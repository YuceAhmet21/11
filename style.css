:root{
  --glass: rgba(255,255,255,.14);
  --glass2: rgba(255,255,255,.08);
  --line: rgba(255,255,255,.22);
  --txt:#fff;
  --green: rgba(34,197,94,.22);
  --red: rgba(239,68,68,.20);

  --ceza:#c92a2a;
  --kafa:#1faa1f;
  --amber:#f59f00;
  --dark:#343a40;
  --blue:#1971c2;
  --vio:#5f3dc4;
  --ind:#5c7cfa;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--txt);background:#0b0b0b}
.bg{position:fixed;inset:0;background:url('bg.png') center/cover no-repeat;pointer-events:none}
.blur{position:fixed;inset:0;backdrop-filter:blur(12px);background:rgba(0,0,0,.55);opacity:0;transition:.2s;pointer-events:none}
.blur.on{opacity:1}
.screen{min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:14px;position:relative;z-index:2;padding:22px}
.hidden{display:none}
.card{background:var(--glass);border:1px solid var(--line);border-radius:18px;padding:16px;backdrop-filter:blur(6px);box-shadow:0 10px 30px rgba(0,0,0,.25);width:min(560px,94vw);text-align:center}
h1{margin:0}
.sp{height:10px}
.pill{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border:1px solid var(--line);border-radius:999px;background:var(--glass2);font-size:13px;opacity:.95}
.btn{width:240px;max-width:90vw;padding:14px 18px;border-radius:16px;background:linear-gradient(180deg, rgba(255,255,255,.22), rgba(255,255,255,.10));border:1px solid var(--line);color:#fff;font-size:18px;font-weight:900;cursor:pointer}
.btn:active{transform:scale(.99)}
.btn-small{width:auto;font-size:14px;padding:10px 12px;border-radius:12px}
.topbar{width:min(980px,98vw);display:flex;gap:10px;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:3;padding:10px 10px 6px}
.left,.right{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.table-wrap{width:min(980px,98vw);overflow:auto;border-radius:18px;border:1px solid var(--line);background:var(--glass)}
table{border-collapse:separate;border-spacing:0;min-width:860px;width:100%}
th,td{border-right:1px solid rgba(255,255,255,.12);border-bottom:1px solid rgba(255,255,255,.12);padding:10px;vertical-align:top}
th{position:sticky;top:0;background:rgba(0,0,0,.35);backdrop-filter:blur(10px);z-index:2}
th:first-child,td:first-child{position:sticky;left:0;z-index:3;background:rgba(0,0,0,.30);backdrop-filter:blur(10px)}
th:last-child,td:last-child{border-right:none}
.headerName{font-weight:950;display:flex;justify-content:space-between;align-items:center;gap:10px}
.actions{display:flex;gap:6px;flex-wrap:wrap;margin-top:8px}
.action{border:0;color:#fff;font-weight:950;font-size:12px;padding:8px 10px;border-radius:12px;cursor:pointer;min-height:36px;min-width:64px}
.action.ceza{background:var(--ceza)} .action.kafa{background:var(--kafa)} .action.e800{background:var(--amber)}
.action.siler{background:var(--dark)} .action.okey{background:var(--blue)} .action.elden{background:var(--vio)} .action.cift{background:var(--ind)}
.action.on{outline:2px solid rgba(255,255,255,.55)}
td.clickable{cursor:pointer}
td.focus{outline:2px solid rgba(255,255,255,.55)}
td.locked{opacity:.85}
.cell{font-weight:950;font-size:15px}
.cell.muted{opacity:.5;font-weight:700}
.note{width:min(980px,98vw);font-size:12px;opacity:.86;line-height:1.35}

.totals{width:min(980px,98vw);display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between;align-items:center}
.totals .box{flex:1;min-width:180px;text-align:left;background:var(--glass);border:1px solid var(--line);border-radius:18px;padding:12px;backdrop-filter:blur(6px)}
.box.leader{background:var(--green)}
.box.trailer{background:var(--red)}
.boxTitle{font-weight:950}
.boxVal{font-size:22px;font-weight:950;margin-top:4px}
.boxHint{opacity:.8;font-size:12px;margin-top:2px}

.sheet-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;pointer-events:none;transition:.2s;z-index:10}
.sheet-backdrop.on{opacity:1;pointer-events:auto}
.sheet{position:fixed;left:0;right:0;bottom:-420px;z-index:11;background:rgba(20,20,20,.92);border-top:1px solid rgba(255,255,255,.14);padding:14px 16px 18px;border-radius:18px 18px 0 0;transition:.25s}
.sheet.on{bottom:0}
.sheet h3{margin:0 0 10px;font-size:18px}
.field input{width:100%;padding:14px;border-radius:14px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.08);color:#fff;font-size:18px;outline:none}
.row{display:flex;gap:10px;margin-top:12px}
.sheet-note{font-size:12px;opacity:.8;line-height:1.35;margin-top:8px}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:84px;z-index:20;background:rgba(0,0,0,.75);border:1px solid rgba(255,255,255,.18);padding:10px 12px;border-radius:14px;opacity:0;transition:.25s;font-weight:900;font-size:13px;max-width:92vw;text-align:center}
.toast.on{opacity:1}


/* === Mobil 4 Kişi Tekli Düzen === */

.players-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
}

.player-name {
  font-size: 14px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.action-btn {
  padding: 6px 8px;
  font-size: 12px;
  border-radius: 8px;
}

.icon-btn {
  width: 28px;
  height: 28px;
  font-size: 14px;
}

/* Blur tıklama problemi fix */
.background {
  pointer-events: none;
}

.blur-card {
  pointer-events: auto;
}

/* iPhone uyumlu küçültme */
@media (max-width: 430px) {
  .player-name { font-size: 13px; }
  .action-btn { font-size: 11px; padding: 5px; }
}

